\documentclass{beamer}
\usepackage[english,francais]{babel}
\usepackage[utf8]{inputenc}
\usepackage{multicol}

\usepackage{graphicx}
\graphicspath{{./Derives_de_taux/}}

\newcommand{\FIG}[2]{\includegraphics[width=#1]{#2}}

\usetheme{Warsaw}
\title[Pdts dérivés de taux]{Principaux produits derivés de taux. \\ Formules de valorisation et de cotation}
\author{Antonin Chaix - Richard Guillemot}
\institute{Master IFMA}
\date{8 Février 2019}

\setbeamertemplate{sidebar right}{}
\setbeamertemplate{footline}{%
\hfill\usebeamertemplate{navigation symbols}
\hspace{1cm}\insertframenumber{}/\inserttotalframenumber}

\begin{document}

\begin{frame}
\titlepage
\begin{figure}[h]
\centering \FIG{5cm}{figures/UPMC_IFMA.jpg}
\end{figure}
\end{frame}

\begin{frame}{Les différents types de taux d'intérêts}
\begin{figure}[h]
\centering \FIG{7cm}{figures/capi_actu.png}
\end{figure}
\begin{center}
\begin{tabular}{|c|c|c|}
\hline
&\textbf{C}apitalisation&\textbf{A}ctualisation \\
\hline
  Taux Linéaire & $1+\delta R^L$ &  $\frac{1}{1+\delta R^L}$ \\
  Taux Actuariel & $(1+\frac{\delta}{N}R^A)^N$ &  $\frac{1}{(1+\frac{\delta}{N}R^A)^N}$ \\
  Taux Continu & $e^{\delta R^C}$ & $e^{-\delta R^C}$ \\
\hline
\end{tabular}
\end{center}
\[
	R^C < R^A < R^L
\]
\end{frame}

\begin{frame}{Quizz}
Supposons que l'on souhaite emprunter la somme de 120 000 euros pendant 10 ans à un taux de 1\%.\\

\vspace{0.5cm}
La mensualité fixe à payer est de:
\begin{itemize}
\item a) 950 euros
\item b) 1000 euros
\item c) 1050 euros
\item d) 1100 euros
\end{itemize}

\end{frame}

\begin{frame}{Quizz}
Supposons que l'on souhaite emprunter la somme de 120 000 euros pendant 10 ans à un taux de 1\%.\\

\vspace{0.5cm}
La mensualité fixe à payer est de:
\begin{itemize}
\item a) 950 euros \textbf{\color{red}{FAUX}} capital non remboursé
\item b) 1000 euros \textbf{\color{red}{FAUX}} capital seul remboursé
\item c) 1050 euros \textbf{\color{green}{VRAI}}
\item d) 1100 euros \textbf{\color{red}{VRAI}} intérêts payés sur le capital de départ
\end{itemize}

\end{frame}


\begin{frame}{Obligation}
\begin{center}
\begin{figure}
\FIG{9cm}{figures/bond.png}
\end{figure}
\end{center}
\begin{overprint}
La valeur actuelle de l'obligation\only<2->{, après simplification}:\\
\onslide<1>\[
P=\sum_{i=1}^{n} \frac{\delta C}{(1+\delta R)^{\frac{i}{\delta}}}+\frac{100}{(1+\delta R)^{\frac{n}{\delta}}}
\]
\onslide<2->\[
P=\vphantom{\sum_{i=1}^{n}}\frac{C}{R}\big[100-\frac{100}{(1+\delta R)^{\frac{n}{\delta}}}\big]+\frac{100}{(1+\delta R)^{\frac{n}{\delta}}}
\]
\end{overprint}
\vspace{0.5cm}
$\mathbf{R}$ est le rendement (yield) de l'obligation.\\
\vspace{0.5cm} 
\onslide<3>Quand $R=C$ l'obligation est dite \textbf{au pair}:
\[
P=100
\]
\end{frame}
\begin{frame}
\frametitle<1-4>{En dessous vs. au dessus du pair}
\frametitle<5-7>{Long versus Short}
\begin{overprint}
\onslide<2-4>Une obligation est:
\begin{itemize}
\item<3-4>\textbf{"en dessous du pair"}: $P<100$ et $R>C$.
\item<4>\textbf{"au dessus du pair"}: $P>100$ et $R<C$.
\end{itemize}
\onslide<5-7>Un opérateur est:
\begin{itemize}
\item<6-7>\textcolor{red}{\textbf{"Long"}} sous entendu de l'obligation: il \textcolor{red}{\textbf{prête}} et anticipe une \textcolor{red}{\textbf{baisse}} des taux.
\item<7>\textcolor{blue}{\textbf{"Short"}} sous entendu de l'obligation: il \textcolor{blue}{\textbf{emprunte}} et anticipe une \textcolor{blue}{\textbf{hausse}} des taux.
\end{itemize}
\end{overprint}
\begin{center}
\begin{figure}
\FIG{4.5cm}{figures/prixvsrdt.png}
\end{figure}
\end{center}
\end{frame}

\begin{frame}{Coupon Couru - Clean Price - Dirty Price}
\begin{center}
\begin{figure}
\FIG{9cm}{figures/accrual.png}
\end{figure}
\end{center}
\[
\text{Clean Price}=\text{Dirty Price}-\underbrace{\text{Acc} \times C}_{\text{Coupon Couru}}
\]
\begin{tabular}{|l|l|}
\hline
$t$&Date de valorisation\\
$T_{i-1}$&Date de paiement du coupon précédent\\
$T_{i}$&Date de paiement du coupon suivant\\
Acc&$t-T_{i-1}$ sous forme de fraction d'années\\
\hline
\end{tabular}
\end{frame}

\begin{frame}{Evolution du prix d'une obligation au cours du temps.}
On considère une obligation:
\begin{itemize} 
\item de maturité initiale 10 ans.\\
\item de coupon 5\%.\\
\item de fréquence annuelle.
\end{itemize}
\begin{center}
\begin{figure}
\FIG{11cm}{figures/bondprices.png}
\end{figure}
\end{center}
\end{frame}

\begin{frame}{Le taux monétaire, dépôt ou money market}

Voici l'échéancier de l'EURIBOR 6M:
\begin{figure}[h]
\vspace{2mm}
\FIG{7cm}{figures/schema_euribor.jpg} 
\vspace{1mm}
\end{figure}
Le taux monétaire est défini comme:
\[
R=L(t,T_\text{start}, T_\text{end})=\frac{1}{\delta}\left(\frac{B(t,T_\text{start})}{B(t,T_\text{end})}-1\right)
\]
La période est caculée avec la convention Act 360:
\[
\delta = \frac{T_\text{end} - T_\text{start}} {360}
\]
\end{frame}


\begin{frame}{L'EURIBOR}
Fixing de l'EURIBOR en date du 8 Février 2019:
\Large
\begin{center}
\begin{tabular}{|c|r|}
  \hline
  \textbf{EURIBOR 1W} & -0.372\% \\
  \textbf{EURIBOR 1M} & -0.369\% \\
  \textbf{EURIBOR 3M} & -0.308\% \\
  \textbf{\color{red}{EURIBOR 6M}} & -0.233\% \\
  \textbf{EURIBOR 12M} & -0.109\%  \\
  \hline
\end{tabular}
\end{center}
\end{frame}


\begin{frame}{Le Forward Rate Agreement (FRA)}
Le FRA permet de garantir un taux futur.\\
Voici l'échéancier d'un FRA sur EURIBOR 6M de maturité 1 an:
\begin{figure}[h]
\FIG{7cm}{figures/schema_fra.jpg} 
\end{figure}
Le FRA est un contrat de gré à gré.\\
Le flux payé à la date $T_1$ d'un FRA receveur de taux fixe est:
\[
\frac{[K-L(T_f,T_1,T_2)]\times\delta}{1+\delta L(T_f,T_1,T_2)}
\]
Soit $K^*$, le taux négocié aujourd'hui tel que la valeur du contrat soit nulle:

\[
K^*=L(t,T_1, T_2)=\frac{1}{\delta}\left(\frac{B(t,T_1)}{B(t,T_2)}-1\right)
\]
\end{frame}

\begin{frame}{Le Futur}

Le Futur est la version standardisée du FRA. Il est échangé sur un marché organisé et dispose d'une chambre de compensation.\\
Le contrat se base sur LIBOR 3M en dollar et EURIBOR 3M en euro aux dates IMM (3ème mercredi des mois de Mars, Juin, Septembre et Décembre).\\
\begin{center}
\begin{tabular}{|c|r|r|}
  \hline
  \textbf{Futur} & \textbf{$T_{start}$} & \textbf{$T_{end}$} \\
  \hline
  \textbf{MAR19} & 20 Mars 2019 & 20 Juin 2019 \\
  \textbf{JUN19} & 19 Juin 2019 & 19 Septembre 2019 \\
  \textbf{SEP19} & 18 Septembre 2019 & 18 Décembre 2019 \\
  \textbf{DEC19} & 18 Décembre 2019 &  18 Mars 2020 \\
  \hline
\end{tabular}
\end{center}
A la maturité du contrat, R est égal au taux LIBOR 3M ou EURIBOR 3M qui prévaut à cette date.
\end{frame}

\begin{frame}{Le Futur}
Le nominal du contrat est de 1,000,000 de dollars ou d'euros.\\
Le contrat est coté de la façon suivante:
\[
100\times(1 - R)
\] 
avec R le taux de référence du contrat (LIBOR 3M ou EURIBOR 3M)\\
La valeur du contrat:
\[
1,000,000\times(1-0.25\times R)
\]
Tout d'abord on achète sans frais un contrat.\\
Ensuite on reçoit (ou on paie) 25 dollars ou euros lorsque le taux de référence diminue de 1 point de base(ou augmente de 1 point de base) sous forme d'appel de marge.
\end{frame}

\begin{frame}{Le Swap}
A traite avec B un swap \textbf{payeur} de taux fixe et B traite avec A un swap \textbf{receveur} de taux fixe. Le nominal vaut N.
\begin{figure}[h]
\FIG{5cm}{figures/schema_swap_1.jpg}
\end{figure}
Pour un swap EURIBOR standard le taux fixe est payé ou reçu annuellement et le taux variable (EURIBOR 6M) semestriellement.
\begin{figure}[h]
\FIG{7cm}{figures/schema_swap_2.jpg}
\end{figure}
\end{frame}

\begin{frame}{Le Swap}
La valeur actuelle de la jambe fixe:
\[
\textbf{PV}_F(t) = \sum_{i=1}^{n}\delta_i^F \times K  \times  N  \times  B(t,T_i^F)
\]
$\delta_i^F$ est calculé avec la convention Bond Basis ou 30/360 (1 an=1).
La valeur de la jambe variable:
\[
\textbf{PV}_V(t) = \sum_{i=1}^{m}\delta_i^V \times \frac{1}{\delta_i^V}\left(\frac{B(t,T_{i-1}^V)}{B(t,T_i^V)}-1\right)  \times  N  \times  B(t,T_i^V)
\]
$\delta_i^V$ est calculé avec la convention Act 360.\\
Après simplification (formule du double nominal) :
\[
\textbf{PV}_V(t) = N \times \Big(B(t,T_0^V)-B(t,T_m^V)\Big)
\]
On remarque que la valeur de la jambe variable est indépendante de sa fréquence.
\end{frame}

\begin{frame}{Le Swap}
La valeur actuelle du swap receveur de taux fixe est:
\[
\textbf{PV}_{Swap}(t) = \textbf{PV}_F(t)-\textbf{PV}_V(t)
\]
On appelle le taux de swap $K^*$ le taux qui rend la valeur actuelle du swap nulle:
\[
K^*=S(t,T_0,T_n)=\frac{B(t,T_0)-B(t,T_n)}{ \sum_{i=1}^{n}\delta_i^F \;B(t,T_i^F)}
\]
La quantité ${LVL}(t,T_0,T_n)$, le level ou l'annuité permet de determiner simplement le changement de valorisation d'un swap pour un mouvement du taux de swap de marché:
\[
\text{LVL}(t,T_0,T_n)=  \sum_{i=1}^{n}\delta_i^F \;B(t,T_i^F)
\]
\end{frame}

\begin{frame}{Conventions de marchés euro et dollar}
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
Devise&\textbf{EUR}&\textbf{USD}\\
Index&\textbf{EURIBOR}&\textbf{LIBOR} \\
\hline
Date de départ& J+2 Business Days&J + 2 Business Days \\
Fréquence Variable&6 mois&3 mois\\
Day Count variable&ACT360&ACT360\\
Fréquence Fixe&1 an&6 mois\\
Day Count Fixe&30/360&30 360\\
\hline
\end{tabular}
\end{center}
\end{frame}

\begin{frame}{Calage de la courbe des taux}
Voici la courbe des taux interbancaires EURIBOR qui prévaut au 29/01/2016 (t la date de valeur ou asofdate):

\begin{center}
\begin{tabular}{|c|r|r|c|r|r|}
  \hline
  & Plots & Quote & & Plots & Quote \\
  \hline
  MM & 2D & -0.23\% & SWAP & 5Y & 0.08\%\\
  MM & 1M & -0.23\% & SWAP & 7Y & 0.33\%\\
  MM & 3M & -0.16\% & SWAP & 10Y & 0.68\%\\
  MM & 6M & -0.10\% & SWAP & 12Y & 0.87\%\\
  MM & 12M & -0.09\% & SWAP & 15Y & 1.07\%\\
  SWAP & 2Y & -0.11\% & SWAP & 20Y & 1.22\%\\
  SWAP & 3Y & -0.12\% & SWAP & 25Y & 1.27\%\\
  SWAP & 4Y & -0.03\% & SWAP & 30Y & 1.28\%\\
  \hline
\end{tabular}
\end{center}
Comment calculer les facteurs d'actualisation et les taux zéro coupon associés aux 16 dates suivantes ? \\
2D, 2D+1M, 2D+3M, 2D+6M, 2D+12M, 2D+1Y, 2D+2Y, 2D+3Y, 2D+4Y, 2D+5Y, 2D+7Y, 2D+10Y, 2D+12Y, 2D+15Y, 2D+20Y, 2D+25Y, 2D+30Y.
\end{frame}

\begin{frame}{Calage de la courbe des taux}
On utilisera la composition continue pour définir de taux zéro coupon:
\[
B(t,T)=e^{-r(t,T) \times \delta }	
\]
On utlisera la convention Act 365 pour le calcul de la fraction d'année:
\[
\delta = \frac{T-t}{365}
\]
Si on a besoin d'un facteur d'actualisation qui ne fait pas partie des plots, on peut interpoler linéairement le taux zéro coupon:
\[
r(T)=\frac{T_{i}-T}{T_{i}-T_{i-1}}\times r(T_{i-1})+\frac{T-T_{i-1}}{T_{i}-T_{i-1}} \times r(T_{i})
\]
$T$ est compris entre $T_{i-1}$ et $T_{i}$ 2 plots de la courbe.
\end{frame}
\begin{frame}{Calage de la courbe des taux}
A titre d'exemple calculons les plots 2D et 2D+1M:\\
\[
B(t,2D)=\frac{1}{1+\frac{2}{360} \times 0.23\%}=1.000013
\]
\[r(t,2D)=-\frac{365}{2}*\ln(1.000013)=0.23\%
\]
Attention le taux 1M comme tous les autres taux monétaires (sauf le taux 2D) commence dans 2 jours !
\[
B(t,2D+1M)=B(t,2D)\frac{1}{1+\frac{1}{12} \times \frac{365}{360}  \times 0.23\%}=1.000207
\]
\[r(t,2D+1M)=-\frac{1}{\frac{2}{365}+\frac{1}{12}}*\ln(1.000207)=-0.23\%
\]
\end{frame}

\begin{frame}{Remarque sur les calculs de fraction d'année}
Par souci de simplicité et pour s'affranchir des problèmes de calendrier, nous considérons que la convention Act 365 est identique à la convention Bond Basis. Par ailleurs Act 360 est égale à la convention Bond Basis multipliée par le facteur $\frac{365}{360}$.
\newline
\newline
\begin{tabular}{|c|r|r|r|c|r|r|r|}
  \hline
   Plot & A360 & BBasis & A365 & Plot & A360 & BBasis & A365 \\
  \hline
 2D & 0.0056 & 0.0055 & 0.055 & 5Y & 5.0694 & 5 & 5\\
 1M & 0.0845 & 0.0833 & 0.0833 & 7Y & 7.0972 & 7 & 7 \\
 3M & 0.2535 & 0.25 & 0.25 & 10Y & 10.1389 & 10 & 10 \\
 6M & 0.5069 & 0.5 & .05  & 12Y & 12.1667 & 12 & 12 \\
 12M & 1.0139 & 1 & 1 & 15Y & 15.2083 & 15 & 15 \\
 2Y & 2.0278 & 2 & 2 & 20Y & 20.2778 & 20 & 20 \\
 3Y & 3.0417 & 3 & 3 & 25Y & 25.3472 & 25 & 25 \\
 4Y & 4.0556 & 4 & 4 & 30Y & 30.4167 & 30 & 30 \\
  \hline
\end{tabular}

\end{frame}

\begin{frame}{Algorithme de Newton Raphson}
Le but de cet algorithme est de résoudre l'équation suivante:
\[
	f(x)=0
\]
Pour qu'il converge de façon certaine, la fonction $f$ doit être convexe.
On choisit un point de départ quelconque $(x_0,f(x_0))$ et on calcule l'intersection ($x_1$,0) de la tangeante en ce point de la fonction $f$ avec avec l'axe des abscisses ($y=0$).

\begin{center}
\begin{tabular}{c c}
%\begin{align}
$\frac{f(x_0)}{x_0-x_1}=f'(x_0)$
%\end{align} 
&
%\begin{align}
$x_1=x_0-\frac{f(x_0)}{f'(x_0)}$
%\end{align}
\end{tabular}
\end{center}

$x_1$ est plus proche de la solution que $x_0$. On recommence en partant du point $(x_1,f(x_1))$. On réitère cette étape jusqu'à atteindre une erreur satisfaisante.\\
On pourra approcher la fonction f par différence finie:
\[
f'(x_0) \simeq \frac{f(x_0+\epsilon)-f(x_0)}{\epsilon}
\]
\end{frame}

\begin{frame}{Algorithme de Newton Raphson}
Exemple pour la fonction $f(x)=e^{-x}-1$ avec comme point de départ $x_0=1$. 2 itérations de l'algorithme.
\begin{center}
\begin{figure}[h]
\FIG{4in}{figures/newtonraphson.png}
\end{figure}
\end{center}
\end{frame}

\begin{frame}{Réplication d'un emprunt futur}
\begin{center}
\begin{figure}[h]
\FIG{4in}{figures/fwd_replic1.png}
\end{figure}
\end{center}
Soit un emprunt à taux fixe qui démarre dans le futur. Nous allons le répliquer par 2 emprunts qui démarrent aujourd'hui.
\end{frame}

\begin{frame}{Réplication d'un emprunt futur}
\begin{center}
\begin{figure}[h]
\FIG{4in}{figures/fwd_replic2.png}
\end{figure}
\end{center}
On prête aujourd'hui $B(t,T_{start})$ qui sera remboursé avec les intérêts en $T_{start}$ par un flux de 1.
\end{frame}

\begin{frame}{Réplication d'un emprunt futur}
\begin{center}
\begin{figure}[h]
\FIG{4in}{figures/fwd_replic3.png}
\end{figure}
\end{center}
On emprunte aujourd'hui $(1+\delta K)B(t,T_{end})$ qui nous sera remboursé avec les intérêts en $T_{end}$ par un flux de $1+\delta K$.
\end{frame}

\begin{frame}{Réplication d'un emprunt futur}
Il n'y a maintenant plus de flux futurs nous allons donc calculer le taux fixe $K^*$ qui égalise les flux aujourd'hui :
\[
K^*=L(t,T_{start}, T_{end})=\frac{1}{\delta}\left(\frac{B(t,T_{start})}{B(t,T_{end})}-1\right)
\]
On retrouve ainsi le taux forward précédemment défini.
\end{frame}

\begin{frame}{Quizz}
Quel est le Payoff d'un FRA receveur de taux Fixe K ?\\
\vspace{0.5cm}
Le flux:
\begin{itemize}
\item a) $K - L(T_f,T_{1},T_{2})$ payé en $T_1$
\item b) $\frac{K - L(t,T_{1},T_{2})}{1+\delta  L(t,T_{1},T_{2})}$ payé en $T_1$
\item c) $\frac{K - L(T_f,T_{1},T_{2})}{1+\delta  L(T_f,T_{1},T_{2})}$ payé en $T_1$
\item d) $\frac{K - L(T_f,T_{1},T_{2})}{1+\delta  L(t,T_{1},T_{2})}$ payé en $T_1$
\end{itemize}
\begin{figure}[h]
\FIG{10cm}{figures/schema_fra.jpg}
\end{figure}

\end{frame}

\begin{frame}{Quizz}
Le 29 Janvier 2015 j'achète un contrat futur Eurodollar (contrat en dollar sur LIBOR 3M) Mars 2015 à \textbf{99.84}.\\
Aujourd'hui le LIBOR 3M vaut \textbf{0.22\%}, le 15 Mars 2015 le LIBOR 3M a augmenté de \textbf{40bp}.\\
\vspace{0.5cm}
Entre le 29 Janvier et le 15 Mars,\\
\begin{itemize}
\item a) j'ai reçu 1 000 euros d'appels de marge.
\item b) j'ai payé 1 150 euros d'appels de marge.
\item c) j'ai payé 1 000 euros d'appels de marge.
\item d) j'ai reçu 1 150 euros d'appels de marge.
\end{itemize}
\end{frame}


\begin{frame}{Quizz}
Soit un emprunt de nominal $N$.\\ 
On reçoit un nominal $N$ en $T_0$.\\
On ne paie aucun intérêt tout au long de la vie de l'emprunt.\\
On rembourse le nominal $N$ à l'échéance $T_n$.\\
\vspace{0.5cm}
La valeur de cet emprunt est égale à:
\begin{itemize}
\item a) la jambe fixe du swap de marché (pour cet échéancier).
\item b) 0.
\item c) la jambe variable du swap de marché (pour cet échéancier).
\item d) 100.
\end{itemize}
\end{frame}

\begin{frame}{Quizz}
Je suis "long" (sous entendu long des obligations), c'est à dire que je gagne de l'argent quand les taux baissent,:
\begin{itemize}
\item a) si j'ai emprunté à taux fixe.
\item b) si j'ai prêté à taux fixe.
\item c) si j'ai emprunté à taux variable.
\item d) si j'ai prêté à taux variable.
\item e) si j'ai contracté un swap où je paie le taux fixe.
\item f) si j'ai contracté un swap où je reçois le taux fixe.
\end{itemize}
\end{frame}

\end{document}
